<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate the data specifying a flametree — flametree_grow • flametree</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate the data specifying a flametree — flametree_grow" />
<meta property="og:description" content="Generate the data specifying a flametree" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




<!-- BEGIN CUSTOM -->

<!-- adds plausible.io -->
<script async defer data-domain="flametree.djnavarro.net" src="https://plausible.io/js/plausible.js"></script>

<!-- END CUSTOM -->


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flametree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/getting-started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/articles/exploring-styles.html">Exploring styles</a>
    </li>
    <li>
      <a href="../articles/articles/spark-functions.html">Using spark functions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/djnavarro/flametree/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate the data specifying a flametree</h1>
    <small class="dont-index">Source: <a href='https://github.com/djnavarro/flametree/blob/master/R/grow.R'><code>R/grow.R</code></a></small>
    <div class="hidden name"><code>flametree_grow.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generate the data specifying a flametree</p>
    </div>

    <pre class="usage"><span class='fu'>flametree_grow</span><span class='op'>(</span>
  seed <span class='op'>=</span> <span class='fl'>286</span>,
  time <span class='op'>=</span> <span class='fl'>6</span>,
  scale <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='fl'>0.8</span>, <span class='fl'>0.9</span><span class='op'>)</span>,
  angle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>20</span><span class='op'>)</span>,
  split <span class='op'>=</span> <span class='fl'>2</span>,
  trees <span class='op'>=</span> <span class='fl'>1</span>,
  seg_col <span class='op'>=</span> <span class='fu'><a href='sparks.html'>spark_linear</a></span><span class='op'>(</span>tree <span class='op'>=</span> <span class='fl'>2</span>, time <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
  seg_wid <span class='op'>=</span> <span class='fu'><a href='sparks.html'>spark_decay</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>0.3</span>, multiplier <span class='op'>=</span> <span class='fl'>5</span>, constant <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>,
  shift_x <span class='op'>=</span> <span class='fu'><a href='sparks.html'>spark_random</a></span><span class='op'>(</span>multiplier <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
  shift_y <span class='op'>=</span> <span class='fu'><a href='sparks.html'>spark_nothing</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>seed</th>
      <td><p>Integer seed for the random number generator</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>Number of generations to run the iterative process</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>Vector of possible values for the "size rescaling" at each iteration</p></td>
    </tr>
    <tr>
      <th>angle</th>
      <td><p>Vector of possible angle changes (in degrees) at each iteration</p></td>
    </tr>
    <tr>
      <th>split</th>
      <td><p>Number of splits at each time point</p></td>
    </tr>
    <tr>
      <th>trees</th>
      <td><p>Number of trees to generate</p></td>
    </tr>
    <tr>
      <th>seg_col</th>
      <td><p>Spark function to control the segment colour</p></td>
    </tr>
    <tr>
      <th>seg_wid</th>
      <td><p>Spark function to control the segment width</p></td>
    </tr>
    <tr>
      <th>shift_x</th>
      <td><p>Spark function to control horizontal jitter</p></td>
    </tr>
    <tr>
      <th>shift_y</th>
      <td><p>Spark function to control vertical jitter</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The output of <code>flametree_grow()</code>` is a tibble with the following
columns: coord_x, coord_y, id_tree, id_time, id_path, id_leaf, id_pathtree,
id_step, seg_deg, seg_len, seg_col, seg_wid. Each row in the tibble specifies
a single point: every curved segment is defined by three such rows.</p>
<p>The two "coord" columns are numeric variables that specify the location of
the point itself. The "id" columns are used as indicators of various kinds.
The id_tree column contains numbers specifying which tree each point belongs
to, and similarly the id_time column is a numeric identifier that specifies
the time point at which the point was generated (i.e., the iteration of
the generative process). The id_step column contains a number (0, 1, or 2)
indicating whether the point is the first point, the midpoint, or the end
point of the relevant curved segment in a tree. In addition, there are two
identifier columns used to denote the segments themselves. The id_path
column is numeric, and assigns value 1 to the "first" segment (i.e.,
the lowest part of the tree trunk) for every tree, with values increasing
numerically for each subsequent segment. Values for id_path will uniquely
identify a segment within a tree, but when multiple trees are generated there
will be multiple segments that have the same id_path value. If a unique
identifier across trees is needed, use the id_pathtree column, which is a
character vector constructed by pasting the id_path and id_tree values into
a string, with an underscore as the separator character.</p>
<p>In addition to the two coordinate columns and the six identifier columns,
the data generated by <code>flametree_grow()</code> contains four "seg" columns
that are intended to map onto different visual characteristics of a plot.
The seg_deg column specifies the orientation of the segment, whereas seg_len
denotes the length of the segment, seg_col specifies the colour (as a numeric
value that could be interpreted by a palette), and seg_wid specifies the
width of the segment. Note that this information use used differently by
the <code><a href='flametree_plot.html'>flametree_plot()</a></code> function, depending on what style of plot is
generated.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Generative art created with flametree is a visualisation of a data
structure created by calling <code>flametree_grow()</code>. The underlying
algorithm is an iterative branching process: each tree starts out as a single
vertical segment, to which multiple new segments are added at the end of the
first iteration. Over multiple iterations this creates a tree-like structure.</p>
<p>The user can control how this iterative process unfolds. By setting the seed
argument the random number generator is reset using <code><a href='https://rdrr.io/r/base/Random.html'>set.seed()</a></code>. The
trees argument specifies the number of trees to create using this process,
the time argument specifies how many iterations of the branching process
will be run, and the split argument specifies how many new segments will be
created each time a branching occurs.</p>
<p>When a new segment is created, its size and orientation are controlled by the
scale and angle arguments. The scale argument takes a vector of positive
numbers. One of these numbers is selected at random whenever a new segment
is created, and the length of the new segment is equal to the length of the
"parent" segment from which it was created, multiplied by this scaling factor.
The orientation of the new segment is controlled by the angle argument in an
analogous way. Every time a new segment is generated, one of these angles
(interpreted in degrees, not radians) is selected at random. The orientation
of the new segment is equal to the orientation of the parent segment plus
the sampled angle.</p>
<p>The remaining arguments (seg_col, seg_wid, shift_x, and shift_y) all take
functions as their input, and are used to control how the colours (seg_col)
and width (seg_wid) of the segments are created, as well as the horizontal
(shift_x) and vertical (shift_y) displacement of the trees are generated.
The flametree package contains four tools to help create these functions:
<code><a href='sparks.html'>spark_linear()</a></code>, <code><a href='sparks.html'>spark_decay()</a></code>, <code><a href='sparks.html'>spark_random()</a></code> and
<code><a href='sparks.html'>spark_nothing()</a></code>. As an example, the default behaviour of
<code>flametree_grow()</code> adds a random horizontal displacement to each tree
to give the impression of multiple trees growing side by side. To suppress
this horizontal displacement, set <code>shift_x = spark_nothing()</code>. For more
information about how to use these "spark" functions to control the flametree
generator, please see the documentation to the spark functions.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>flametree_grow</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 381 x 12</span><span>
#&gt;    coord_x coord_y id_tree id_time id_path id_leaf id_pathtree id_step seg_deg
#&gt;      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    0          1       1       1 FALSE   1_1               0      90
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    0.5        1       1       1 FALSE   1_1               1      90
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    1          1       1       1 FALSE   1_1               2      90
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    1          1       2       2 FALSE   1_2               0      80
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    1.3        1       2       2 FALSE   1_2               1      80
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>   -</span><span style='color: #BB0000;'>1.00</span><span>    1.59       1       2       2 FALSE   1_2               2      80
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    1          1       2       3 FALSE   1_3               0     100
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>   -</span><span style='color: #BB0000;'>1.11</span><span>    1.45       1       2       3 FALSE   1_3               1     100
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>   -</span><span style='color: #BB0000;'>1.26</span><span>    1.89       1       2       3 FALSE   1_3               2     100
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>   -</span><span style='color: #BB0000;'>1.00</span><span>    1.59       1       3       4 FALSE   1_4               0      90
#&gt; </span><span style='color: #949494;'># … with 371 more rows, and 3 more variables: seg_len &lt;dbl&gt;, seg_col &lt;dbl&gt;,</span><span>
#&gt; </span><span style='color: #949494;'>#   seg_wid &lt;dbl&gt;</span><span></div><div class='input'><span class='fu'>flametree_grow</span><span class='op'>(</span>time <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 6,141 x 12</span><span>
#&gt;    coord_x coord_y id_tree id_time id_path id_leaf id_pathtree id_step seg_deg
#&gt;      </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;lgl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>         </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span>    1.22    0          1       1       1 FALSE   1_1               0      90
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span>    1.22    0.5        1       1       1 FALSE   1_1               1      90
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span>    1.22    1          1       1       1 FALSE   1_1               2      90
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span>    1.22    1          1       2       2 FALSE   1_2               0      80
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span>    1.22    1.3        1       2       2 FALSE   1_2               1      80
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span>    1.33    1.59       1       2       2 FALSE   1_2               2      80
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span>    1.22    1          1       2       3 FALSE   1_3               0     100
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span>    1.22    1.45       1       2       3 FALSE   1_3               1     100
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span>    1.07    1.89       1       2       3 FALSE   1_3               2     100
#&gt; </span><span style='color: #BCBCBC;'>10</span><span>    1.33    1.59       1       3       4 FALSE   1_4               0      90
#&gt; </span><span style='color: #949494;'># … with 6,131 more rows, and 3 more variables: seg_len &lt;dbl&gt;, seg_col &lt;dbl&gt;,</span><span>
#&gt; </span><span style='color: #949494;'>#   seg_wid &lt;dbl&gt;</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Danielle Navarro.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


